"use strict";(self.webpackChunkpanovista=self.webpackChunkpanovista||[]).push([[1738],{8538:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>x,frontMatter:()=>r,metadata:()=>d,toc:()=>a});var t=s(4848),i=s(8453);const r={title:"\u6a21\u5f0f\u5339\u914d",sidebar_position:1,slug:"\u6a21\u5f0f\u5339\u914d"},c="\u6a21\u5f0f\u5339\u914d",d={id:"dsa/leetcode/\u5b57\u7b26\u4e32\u76f8\u5173/\u6a21\u5f0f\u5339\u914d",title:"\u6a21\u5f0f\u5339\u914d",description:"\u9898\u76ee",source:"@site/docs/dsa/leetcode/\u5b57\u7b26\u4e32\u76f8\u5173/\u6a21\u5f0f\u5339\u914d.mdx",sourceDirName:"dsa/leetcode/\u5b57\u7b26\u4e32\u76f8\u5173",slug:"/dsa/leetcode/\u5b57\u7b26\u4e32\u76f8\u5173/\u6a21\u5f0f\u5339\u914d",permalink:"/docs/dsa/leetcode/\u5b57\u7b26\u4e32\u76f8\u5173/\u6a21\u5f0f\u5339\u914d",draft:!1,unlisted:!1,editUrl:"https://github.com/wangenius/wangenius.github.io/tree/master/docs/dsa/leetcode/\u5b57\u7b26\u4e32\u76f8\u5173/\u6a21\u5f0f\u5339\u914d.mdx",tags:[],version:"current",sidebarPosition:1,frontMatter:{title:"\u6a21\u5f0f\u5339\u914d",sidebar_position:1,slug:"\u6a21\u5f0f\u5339\u914d"},sidebar:"leetcode",previous:{title:"\u516c\u5171\u5b57\u6bb5",permalink:"/docs/dsa/leetcode/\u5b57\u7b26\u4e32\u76f8\u5173/\u516c\u5171\u5b57\u6bb5"},next:{title:"search",permalink:"/docs/dsa/leetcode/\u5b57\u7b26\u4e32\u76f8\u5173/search"}},l={},a=[{value:"\u9898\u76ee",id:"\u9898\u76ee",level:2},{value:"\u7b80\u5355\u5339\u914d",id:"\u7b80\u5355\u5339\u914d",level:2},{value:"KMP\u7b97\u6cd5",id:"kmp\u7b97\u6cd5",level:2},{value:"next\u6570\u7ec4\u7684\u624b\u7b97\u65b9\u6cd5",id:"next\u6570\u7ec4\u7684\u624b\u7b97\u65b9\u6cd5",level:3},{value:"C++\u6c42\u89e3next\u6570\u7ec4",id:"c\u6c42\u89e3next\u6570\u7ec4",level:3},{value:"\u4f7f\u7528\u548c\u5b9e\u73b0",id:"\u4f7f\u7528\u548c\u5b9e\u73b0",level:3}];function o(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"\u6a21\u5f0f\u5339\u914d",children:"\u6a21\u5f0f\u5339\u914d"}),"\n",(0,t.jsx)(n.h2,{id:"\u9898\u76ee",children:"\u9898\u76ee"}),"\n",(0,t.jsx)(n.p,{children:"\u7ed9\u4f60\u4e24\u4e2a\u5b57\u7b26\u4e32 str \u548c substr(\u53c8\u53eb\u6a21\u5f0f\u4e32) \uff0c\u8bf7\u4f60\u5728 str \u5b57\u7b26\u4e32\u4e2d\u627e\u51fa substr \u5b57\u7b26\u4e32\u7684\u7b2c\u4e00\u4e2a\u5339\u914d\u9879\u7684\u4e0b\u6807\uff08\u4e0b\u6807\u4ece 0 \u5f00\u59cb\uff09\u3002\u5982\u679c substr \u4e0d\u662f str \u7684\u4e00\u90e8\u5206\uff0c\u5219\u8fd4\u56de -1 \u3002"}),"\n",(0,t.jsx)(n.h2,{id:"\u7b80\u5355\u5339\u914d",children:"\u7b80\u5355\u5339\u914d"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cpp",children:"int findstr(string str, string substr) {\n    if (substr.empty()) return 0;\n    if (substr.size() > str.size()) return -1;\n    for (int i = 0; i <= str.size() - substr.size(); ++i) \n        if (str.substr(i, substr.size()) == substr) \n            return i;\n    return -1;\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"kmp\u7b97\u6cd5",children:"KMP\u7b97\u6cd5"}),"\n",(0,t.jsx)(n.p,{children:"Knuth-Morris-Pratt: \u4e00\u79cd\u7ebf\u6027\u65f6\u95f4\u590d\u6742\u5ea6\u7684\u5339\u914d\u7b97\u6cd5"}),"\n",(0,t.jsx)(n.h3,{id:"next\u6570\u7ec4\u7684\u624b\u7b97\u65b9\u6cd5",children:"next\u6570\u7ec4\u7684\u624b\u7b97\u65b9\u6cd5"}),"\n",(0,t.jsx)(n.p,{children:"\u8be5\u7b97\u6cd5\u7684\u6838\u5fc3\u4e3anext\u51fd\u6570\u6216\u6570\u7ec4\u7684\u6c42\u89e3\u3002"}),"\n",(0,t.jsx)(n.admonition,{title:"\u5907\u6ce8",type:"success",children:(0,t.jsx)(n.p,{children:"\u8fd9\u91cc\u6211\u4eec\u91c7\u7528\u4e0b\u6807\u4e3a0\u7684next\u6570\u7ec4."})}),"\n",(0,t.jsxs)(n.p,{children:["\u6211\u4eec\u4e3e\u4e2a\u4f8b\u5b50\u8bf4\u660e\uff1a\u5b57\u7b26\u4e32",(0,t.jsx)(n.code,{children:"aabaaab"}),"\u7684\u524d\u7f00\u51fd\u6570\u503c\u4f9d\u6b21\u4e3a-1,0,1,0,1,2,2\u3002"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cpp",children:"next[0] = -1; // \u7b2c\u4e00\u4e2a\u5b57\u6bcd\u6ca1\u6709\u524d\u5e8f\u4e32, \u9ed8\u8ba4-1.\nnext[1] = 0; // a \u6ca1\u6709\u771f\u524d\u7f00\u548c\u771f\u540e\u7f00 \nnext[2] = 1; // aa -> a\nnext[3] = 0; // aab \u6ca1\u6709\nnext[4] = 1; // aaba -> a\nnext[5] = 2; // aabaa -> aa\nnext[6] = 2; // aabaaa -> aa\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u6211\u4eec\u5c31\u53ef\u4ee5\u5feb\u901f\u5730\u8ba1\u7b97\u51fa\u6a21\u5f0f\u4e32\u5728\u4e3b\u4e32\u4e2d\u7684\u6bcf\u4e00\u6b21\u51fa\u73b0\u3002"}),"\n",(0,t.jsxs)(n.admonition,{title:"\u4e3a\u4ec0\u4e48\u8981\u8ba1\u7b97\u524d\u5e8f\u4e32\u7684\u6700\u957f\u524d\u540e\u7f00?",type:"success",children:[(0,t.jsx)(n.p,{children:"\u8ba1\u7b97\u6700\u5927\u5df2\u7ecf\u5339\u914d\u6210\u529f\u7684\u4f4d\u6570."}),(0,t.jsx)(n.p,{children:"\u5982\u679c\u5f53\u524d\u5339\u914d\u5931\u8d25, \u53ea\u9700\u5c06\u6a21\u5f0f\u4e32\u6307\u9488\u6307\u5411\u6700\u957f\u524d\u7f00\u7684\u540e\u4e00\u4f4d, \u91cd\u65b0\u5339\u914d\u5931\u8d25\u7684\u4f4d\u7f6e. \u4e3b\u4e32\u6307\u9488\u4e0d\u9700\u56de\u6eaf."}),(0,t.jsx)(n.p,{children:"\u800c\u6211\u4eec\u91c7\u7528\u4e0b\u6807\u4e3a0\u7684next\u6570\u7ec4, \u524d\u5e8f\u4e32\u6700\u5927\u524d\u540e\u7f00\u7684\u957f\u5ea6\u5c31\u662f\u6700\u957f\u524d\u7f00\u7684\u540e\u4e00\u4f4d\u7684\u4e0b\u6807."})]}),"\n",(0,t.jsx)(n.h3,{id:"c\u6c42\u89e3next\u6570\u7ec4",children:"C++\u6c42\u89e3next\u6570\u7ec4"}),"\n",(0,t.jsx)(n.p,{children:"\u524d\u7f00\u51fd\u6570\u7684\u6027\u8d28:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"next[i] <= next[i-1] + 1"})}),"\n",(0,t.jsxs)(n.li,{children:["\u5982\u679c",(0,t.jsx)(n.code,{children:"s[i] = s[next[i - 1]]"}),"\u90a3\u4e48",(0,t.jsx)(n.code,{children:"next[i] == next[i - 1] + 1"})]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["\u4f9d\u636e\u8fd9\u4e24\u4e2a\u6027\u8d28: \u627e\u5230\u6700\u5927\u7684j\u4f7f\u5f97",(0,t.jsx)(n.code,{children:"s[0:j-1] = s[i-j:i-1]"}),"\u4e14",(0,t.jsx)(n.code,{children:"s[j] = s[i]"})]}),"\n",(0,t.jsx)(n.p,{children:"\u57fa\u672c\u601d\u8def: (\u4ece\u4e0b\u68070\u5f00\u59cb)\u8fed\u4ee3\u4f9d\u6b21\u6c42\u89e3\u6a21\u5f0f\u4e32\u6bcf\u4e00\u4f4d\u524d\u4e32\u7684\u6700\u5927\u516c\u5171\u524d\u540e\u7f00, \u5c3e\u6570\u5373\u4e3anext\u6570. \u4e00\u76f4\u8fed\u4ee3\u5bfb\u627e\u4e0b\u4e00\u4e2ajump\u7684\u4e0b\u6807."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cpp",children:"vector<int> getNext(string substr) {\n  // next\u6570\u7ec4, \u9ed8\u8ba4-1, \u6700\u540e\u53ea\u5269\u4e0bs[0]\u7684next\u662f-1\n  vector<int> next(substr.size(), -1);\n  // check\u662f\u5f53\u524d\u8fed\u4ee3\u68c0\u67e5\u7684\u4e0b\u6807,jump\u662f\u8df3\u8f6c\u6307\u9488\u6307\u5411\u8df3\u8f6c\u4f4d\u7f6e\u7684\u4e0b\u6807\n  int jumpTo = -1, check = 0;\n  while (check < substr.size()) {\n    if (jumpTo == -1 || substr[jumpTo] == substr[check])\n      next[++check] = ++jumpTo;\n    else\n      jumpTo = next[jumpTo];\n  }\n  return next;\n}\n"})}),"\n",(0,t.jsxs)(n.admonition,{title:"\u6700\u5927\u524d\u540e\u7f00\u957f\u5ea6\u4e3a\u4ec0\u4e48\u662fnext\u7684\u4e0b\u6807",type:"success",children:[(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"\u5173\u4e8e\u4f4d\u7f6e",src:s(9007).A+"",width:"2852",height:"1616"})}),(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://www.cnblogs.com/MAKISE004/p/17066403.html",children:"\u4e00\u4e2a\u4e0d\u9519\u7684\u535a\u5ba2"})})]}),"\n",(0,t.jsx)(n.h3,{id:"\u4f7f\u7528\u548c\u5b9e\u73b0",children:"\u4f7f\u7528\u548c\u5b9e\u73b0"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cpp",children:"int findstr(const string& str,const string& substr){\n    vector<int> next = getNext();\n    // \u8fd9\u4e2acheck\u662f\u4e3b\u4e32\u6307\u9488, j\u662f\u6a21\u5f0f\u4e32\u6307\u9488\n    int check = 0,j = -1;\n    while(i < str.size()){\n        // \u5f53\u6ca1\u6709\u524d\u7f00\u5339\u914d\u6216\u8005\u5f53\u524d\u5339\u914d\u548c\u524d\u7f00\u4e0b\u4e00\u4f4d\u76f8\u540c\u65f6\n        if(j == -1 || s[i] == substr[j]){\n            ++i;\n            ++j;\n        }\n        else j = next[j];\n        if(j == substr.size()) return i - substr.size();\n    }\n    return -1;\n}\n"})})]})}function x(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},9007:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/nextget-af0b03fcb215cd8b35eafc06a4e511ff.png"},8453:(e,n,s)=>{s.d(n,{R:()=>c,x:()=>d});var t=s(6540);const i={},r=t.createContext(i);function c(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);