"use strict";(self.webpackChunkpanovista=self.webpackChunkpanovista||[]).push([[8011],{3756:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>i,metadata:()=>a,toc:()=>c});var s=r(4848),t=r(8453);const i={title:"Cargo",sidebar_position:2,slug:"Cargo"},o="Cargo",a={id:"lang/rust/\u6a21\u5757\u548c\u7f16\u8bd1/Cargo",title:"Cargo",description:"cargo \u662f\u5b98\u65b9\u7684 Rust \u5305\u7ba1\u7406\u5de5\u5177\u3002\u5b83\u5177\u6709\u8bb8\u591a\u975e\u5e38\u6709\u7528\u7684\u529f\u80fd\uff0c\u53ef\u4ee5\u63d0\u9ad8\u4ee3\u7801\u8d28\u91cf\u548c\u5f00\u53d1\u4eba\u5458\u901f\u5ea6\uff01\u8fd9\u4e9b\u5305\u62ec",source:"@site/docs/lang/rust/\u6a21\u5757\u548c\u7f16\u8bd1/Cargo.mdx",sourceDirName:"lang/rust/\u6a21\u5757\u548c\u7f16\u8bd1",slug:"/lang/rust/\u6a21\u5757\u548c\u7f16\u8bd1/Cargo",permalink:"/docs/lang/rust/\u6a21\u5757\u548c\u7f16\u8bd1/Cargo",draft:!1,unlisted:!1,editUrl:"https://github.com/wangenius/wangenius.github.io/tree/master/docs/lang/rust/\u6a21\u5757\u548c\u7f16\u8bd1/Cargo.mdx",tags:[],version:"current",sidebarPosition:2,frontMatter:{title:"Cargo",sidebar_position:2,slug:"Cargo"},sidebar:"rust",previous:{title:"\u6a21\u5757\u7cfb\u7edf",permalink:"/docs/lang/rust/\u6a21\u5757\u548c\u7f16\u8bd1/\u6a21\u5757\u7cfb\u7edf"},next:{title:"std",permalink:"/docs/lang/rust/\u6a21\u5757\u548c\u7f16\u8bd1/std"}},l={},c=[{value:"\u4f9d\u8d56dependencies",id:"\u4f9d\u8d56dependencies",level:2},{value:"\u60ef\u4f8b",id:"\u60ef\u4f8b",level:2},{value:"\u6d4b\u8bd5test",id:"\u6d4b\u8bd5test",level:2},{value:"\u6784\u5efa\u811a\u672c",id:"\u6784\u5efa\u811a\u672c",level:3},{value:"\u5982\u4f55\u4f7f\u7528\u6784\u5efa\u811a\u672c",id:"\u5982\u4f55\u4f7f\u7528\u6784\u5efa\u811a\u672c",level:4}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"cargo",children:"Cargo"}),"\n",(0,s.jsx)(n.p,{children:"cargo \u662f\u5b98\u65b9\u7684 Rust \u5305\u7ba1\u7406\u5de5\u5177\u3002\u5b83\u5177\u6709\u8bb8\u591a\u975e\u5e38\u6709\u7528\u7684\u529f\u80fd\uff0c\u53ef\u4ee5\u63d0\u9ad8\u4ee3\u7801\u8d28\u91cf\u548c\u5f00\u53d1\u4eba\u5458\u901f\u5ea6\uff01\u8fd9\u4e9b\u5305\u62ec"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u4f9d\u8d56\u7ba1\u7406\u4ee5\u53ca\u4e0e crates.io\uff08\u5b98\u65b9 Rust \u5305\u6ce8\u518c\u8868\uff09\u7684\u96c6\u6210"}),"\n",(0,s.jsx)(n.li,{children:"\u5bf9\u5355\u5143\u6d4b\u8bd5\u7684\u8ba4\u8bc6"}),"\n",(0,s.jsx)(n.li,{children:"\u5bf9\u57fa\u51c6\u7684\u8ba4\u8bc6"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"\u672c\u7ae0\u5c06\u4ecb\u7ecd\u4e00\u4e9b\u5feb\u901f\u57fa\u7840\u77e5\u8bc6\uff0c\u4f46\u60a8\u53ef\u4ee5\u5728 The Cargo Book \u4e2d\u627e\u5230\u5168\u9762\u7684\u6587\u6863\u3002"}),"\n",(0,s.jsx)(n.h2,{id:"\u4f9d\u8d56dependencies",children:"\u4f9d\u8d56dependencies"}),"\n",(0,s.jsx)(n.p,{children:"\u5927\u591a\u6570\u7a0b\u5e8f\u90fd\u4f9d\u8d56\u4e8e\u67d0\u4e9b\u5e93\u3002\u5982\u679c\u60a8\u66fe\u7ecf\u624b\u52a8\u7ba1\u7406\u8fc7\u4f9d\u8d56\u5173\u7cfb\uff0c\u60a8\u5c31\u4f1a\u77e5\u9053\u8fd9\u6709\u591a\u4e48\u75db\u82e6\u3002\u5e78\u8fd0\u7684\u662f\uff0cRust \u751f\u6001\u7cfb\u7edf\u6807\u914d cargo \uff01 cargo \u53ef\u4ee5\u7ba1\u7406\u9879\u76ee\u7684\u4f9d\u8d56\u5173\u7cfb\u3002"}),"\n",(0,s.jsx)(n.p,{children:"\u8981\u521b\u5efa\u4e00\u4e2a\u65b0\u7684 Rust \u9879\u76ee\uff0c"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# A binary\ncargo new foo\n\n# A library\ncargo new --lib bar\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u5bf9\u4e8e\u672c\u7ae0\u7684\u5176\u4f59\u90e8\u5206\uff0c\u6211\u4eec\u5047\u8bbe\u6211\u4eec\u6b63\u5728\u5236\u4f5c\u4e00\u4e2a\u4e8c\u8fdb\u5236\u6587\u4ef6\uff0c\u800c\u4e0d\u662f\u4e00\u4e2a\u5e93\uff0c\u4f46\u6240\u6709\u6982\u5ff5\u90fd\u662f\u76f8\u540c\u7684\u3002"}),"\n",(0,s.jsx)(n.p,{children:"\u5728\u6267\u884c\u4e0a\u8ff0\u547d\u4ee4\u4e4b\u540e\uff0c\u60a8\u5e94\u8be5\u770b\u5230\u5982\u4e0b\u6240\u793a\u7684\u6587\u4ef6\u5c42\u6b21\u7ed3\u6784\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:".\n\u251c\u2500\u2500 bar\n\u2502   \u251c\u2500\u2500 Cargo.toml\n\u2502   \u2514\u2500\u2500 src\n\u2502       \u2514\u2500\u2500 lib.rs\n\u2514\u2500\u2500 foo\n    \u251c\u2500\u2500 Cargo.toml\n    \u2514\u2500\u2500 src\n        \u2514\u2500\u2500 main.rs\n"})}),"\n",(0,s.jsx)(n.p,{children:"main.rs \u662f\u65b0 foo \u9879\u76ee\u7684\u6839\u6e90\u6587\u4ef6\u2014\u2014\u6ca1\u6709\u4ec0\u4e48\u65b0\u5185\u5bb9\u3002 Cargo.toml \u662f\u8be5\u9879\u76ee\u7684 cargo \u7684\u914d\u7f6e\u6587\u4ef6\u3002\u5982\u679c\u4f60\u770b\u4e00\u4e0b\u5b83\u7684\u5185\u90e8\uff0c\u4f60\u5e94\u8be5\u4f1a\u770b\u5230\u8fd9\u6837\u7684\u4e1c\u897f\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-toml",children:'[package]\nname = "foo"\nversion = "0.1.0"\nauthors = ["mark"]\n\n[dependencies]\n'})}),"\n",(0,s.jsx)(n.p,{children:"[package] \u4e0b\u7684 name \u5b57\u6bb5\u786e\u5b9a\u9879\u76ee\u7684\u540d\u79f0\u3002\u5982\u679c\u60a8\u53d1\u5e03\u7bb1\u5b50\uff08\u7a0d\u540e\u4f1a\u8be6\u7ec6\u4ecb\u7ecd\uff09\uff0c crates.io \u5c06\u4f7f\u7528\u5b83\u3002\u5b83\u4e5f\u662f\u7f16\u8bd1\u65f6\u8f93\u51fa\u4e8c\u8fdb\u5236\u6587\u4ef6\u7684\u540d\u79f0\u3002"}),"\n",(0,s.jsx)(n.p,{children:"version \u5b57\u6bb5\u662f\u4f7f\u7528\u8bed\u4e49\u7248\u672c\u63a7\u5236\u7684\u5305\u7248\u672c\u53f7\u3002"}),"\n",(0,s.jsx)(n.p,{children:"authors \u5b57\u6bb5\u662f\u53d1\u5e03 crate \u65f6\u4f7f\u7528\u7684\u4f5c\u8005\u5217\u8868\u3002"}),"\n",(0,s.jsx)(n.p,{children:"[dependencies] \u90e8\u5206\u5141\u8bb8\u60a8\u4e3a\u9879\u76ee\u6dfb\u52a0\u4f9d\u8d56\u9879\u3002"}),"\n",(0,s.jsx)(n.p,{children:'\u4f8b\u5982\uff0c\u5047\u8bbe\u6211\u4eec\u5e0c\u671b\u6211\u4eec\u7684\u7a0b\u5e8f\u6709\u4e00\u4e2a\u5f88\u68d2\u7684 CLI\u3002\u60a8\u53ef\u4ee5\u5728 crates.io\uff08\u5b98\u65b9 Rust \u5305\u6ce8\u518c\u8868\uff09\u4e0a\u627e\u5230\u8bb8\u591a\u5f88\u68d2\u7684\u5305\u3002\u4e00\u79cd\u6d41\u884c\u7684\u9009\u62e9\u662f\u62cd\u624b\u3002\u622a\u81f3\u64b0\u5199\u672c\u6587\u65f6\uff0c clap \u7684\u6700\u65b0\u53d1\u5e03\u7248\u672c\u662f 2.27.1 \u3002\u8981\u5411\u6211\u4eec\u7684\u7a0b\u5e8f\u6dfb\u52a0\u4f9d\u8d56\u9879\uff0c\u6211\u4eec\u53ea\u9700\u5c06\u4ee5\u4e0b\u5185\u5bb9\u6dfb\u52a0\u5230 [dependencies] \u4e0b\u7684 Cargo.toml \u4e2d\uff1a clap = "2.27.1" \u3002\u5c31\u662f\u8fd9\u6837\uff01\u60a8\u53ef\u4ee5\u5f00\u59cb\u5728\u7a0b\u5e8f\u4e2d\u4f7f\u7528 clap \u3002'}),"\n",(0,s.jsx)(n.p,{children:"cargo \u8fd8\u652f\u6301\u5176\u4ed6\u7c7b\u578b\u7684\u4f9d\u8d56\u5173\u7cfb\u3002\u8fd9\u53ea\u662f\u4e00\u4e2a\u5c0f\u6837\u672c\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-toml",children:'[package]\nname = "foo"\nversion = "0.1.0"\nauthors = ["mark"]\n\n[dependencies]\nclap = "2.27.1" # from crates.io\nrand = { git = "https://github.com/rust-lang-nursery/rand" } # from online repo\nbar = { path = "../bar" } # from a path in the local filesystem\n'})}),"\n",(0,s.jsx)(n.p,{children:"cargo \u4e0d\u4ec5\u4ec5\u662f\u4e00\u4e2a\u4f9d\u8d56\u7ba1\u7406\u5668\u3002 Cargo.toml \u7684\u683c\u5f0f\u89c4\u8303\u4e2d\u5217\u51fa\u4e86\u6240\u6709\u53ef\u7528\u7684\u914d\u7f6e\u9009\u9879\u3002"}),"\n",(0,s.jsx)(n.p,{children:"\u4e3a\u4e86\u6784\u5efa\u6211\u4eec\u7684\u9879\u76ee\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\u9879\u76ee\u76ee\u5f55\u4e2d\u7684\u4efb\u4f55\u4f4d\u7f6e\uff08\u5305\u62ec\u5b50\u76ee\u5f55\uff01\uff09\u6267\u884c cargo build \u3002\u6211\u4eec\u8fd8\u53ef\u4ee5\u6267\u884c cargo run \u6765\u6784\u5efa\u548c\u8fd0\u884c\u3002\u8bf7\u6ce8\u610f\uff0c\u8fd9\u4e9b\u547d\u4ee4\u5c06\u89e3\u51b3\u6240\u6709\u4f9d\u8d56\u9879\uff0c\u6839\u636e\u9700\u8981\u4e0b\u8f7d crate\uff0c\u5e76\u6784\u5efa\u6240\u6709\u5185\u5bb9\uff0c\u5305\u62ec\u60a8\u7684 crate\u3002 \uff08\u8bf7\u6ce8\u610f\uff0c\u5b83\u4ec5\u91cd\u5efa\u5c1a\u672a\u6784\u5efa\u7684\u5185\u5bb9\uff0c\u7c7b\u4f3c\u4e8e make \uff09\u3002"}),"\n",(0,s.jsx)(n.p,{children:"\u77a7\uff01\u8fd9\u91cc\u7684\u6240\u6709\u90fd\u662f\u5b83\u7684\uff01"}),"\n",(0,s.jsx)(n.h2,{id:"\u60ef\u4f8b",children:"\u60ef\u4f8b"}),"\n",(0,s.jsx)(n.p,{children:"\u5728\u4e0a\u4e00\u7ae0\u4e2d\uff0c\u6211\u4eec\u770b\u5230\u4e86\u4ee5\u4e0b\u76ee\u5f55\u5c42\u6b21\u7ed3\u6784\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"foo\n\u251c\u2500\u2500 Cargo.toml\n\u2514\u2500\u2500 src\n    \u2514\u2500\u2500 main.rs\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u4e0d\u8fc7\uff0c\u5047\u8bbe\u6211\u4eec\u60f3\u5728\u540c\u4e00\u4e2a\u9879\u76ee\u4e2d\u62e5\u6709\u4e24\u4e2a\u4e8c\u8fdb\u5236\u6587\u4ef6\u3002\u7136\u540e\u600e\u6837\u5462\uff1f"}),"\n",(0,s.jsx)(n.p,{children:"\u4e8b\u5b9e\u8bc1\u660e cargo \u652f\u6301\u8fd9\u4e00\u70b9\u3002\u9ed8\u8ba4\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\u540d\u79f0\u662f main \uff0c\u6b63\u5982\u6211\u4eec\u4e4b\u524d\u770b\u5230\u7684\uff0c\u4f46\u662f\u60a8\u53ef\u4ee5\u901a\u8fc7\u5c06\u5176\u4ed6\u4e8c\u8fdb\u5236\u6587\u4ef6\u653e\u7f6e\u5728 bin/ \u76ee\u5f55\u4e2d\u6765\u6dfb\u52a0\u5b83\u4eec"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"foo\n\u251c\u2500\u2500 Cargo.toml\n\u2514\u2500\u2500 src\n    \u251c\u2500\u2500 main.rs\n    \u2514\u2500\u2500 bin\n        \u2514\u2500\u2500 my_other_bin.rs\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u8981\u544a\u8bc9 cargo \u4ec5\u7f16\u8bd1\u6216\u8fd0\u884c\u6b64\u4e8c\u8fdb\u5236\u6587\u4ef6\uff0c\u6211\u4eec\u53ea\u9700\u4f20\u9012 cargo --bin my_other_bin \u6807\u5fd7\uff0c\u5176\u4e2d my_other_bin \u662f\u8be5\u4e8c\u8fdb\u5236\u6587\u4ef6\u7684\u540d\u79f0\u6211\u4eec\u60f3\u8981\u4f7f\u7528\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\u3002"}),"\n",(0,s.jsx)(n.p,{children:"\u9664\u4e86\u989d\u5916\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\u4e4b\u5916\uff0c cargo \u8fd8\u652f\u6301\u66f4\u591a\u529f\u80fd\uff0c\u4f8b\u5982\u57fa\u51c6\u6d4b\u8bd5\u3001\u6d4b\u8bd5\u548c\u793a\u4f8b\u3002"}),"\n",(0,s.jsx)(n.h2,{id:"\u6d4b\u8bd5test",children:"\u6d4b\u8bd5test"}),"\n",(0,s.jsx)(n.p,{children:"\u4f17\u6240\u5468\u77e5\uff0c\u6d4b\u8bd5\u5bf9\u4e8e\u4efb\u4f55\u8f6f\u4ef6\u90fd\u662f\u4e0d\u53ef\u6216\u7f3a\u7684\uff01 Rust \u5bf9\u5355\u5143\u548c\u96c6\u6210\u6d4b\u8bd5\u5177\u6709\u4e00\u6d41\u7684\u652f\u6301\uff08\u8bf7\u53c2\u9605 TRPL \u4e2d\u7684\u672c\u7ae0\uff09\u3002"}),"\n",(0,s.jsx)(n.p,{children:"\u4ece\u4e0a\u9762\u94fe\u63a5\u7684\u6d4b\u8bd5\u7ae0\u8282\u4e2d\uff0c\u6211\u4eec\u4e86\u89e3\u4e86\u5982\u4f55\u7f16\u5199\u5355\u5143\u6d4b\u8bd5\u548c\u96c6\u6210\u6d4b\u8bd5\u3002\u5728\u7ec4\u7ec7\u4e0a\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u5355\u5143\u6d4b\u8bd5\u653e\u5728\u4ed6\u4eec\u6d4b\u8bd5\u7684\u6a21\u5757\u4e2d\uff0c\u5c06\u96c6\u6210\u6d4b\u8bd5\u653e\u5728\u4ed6\u4eec\u81ea\u5df1\u7684 tests/ \u76ee\u5f55\u4e2d\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"foo\n\u251c\u2500\u2500 Cargo.toml\n\u251c\u2500\u2500 src\n\u2502   \u2514\u2500\u2500 main.rs\n\u2502   \u2514\u2500\u2500 lib.rs\n\u2514\u2500\u2500 tests\n    \u251c\u2500\u2500 my_test.rs\n    \u2514\u2500\u2500 my_other_test.rs\n"})}),"\n",(0,s.jsx)(n.p,{children:"tests \u4e2d\u7684\u6bcf\u4e2a\u6587\u4ef6\u90fd\u662f\u4e00\u4e2a\u5355\u72ec\u7684\u96c6\u6210\u6d4b\u8bd5\uff0c\u5373\u65e8\u5728\u6d4b\u8bd5\u60a8\u7684\u5e93\u7684\u6d4b\u8bd5\uff0c\u5c31\u50cf\u4ece\u4f9d\u8d56\u5305\u4e2d\u8c03\u7528\u5b83\u4e00\u6837\u3002"}),"\n",(0,s.jsx)(n.p,{children:"\u6d4b\u8bd5\u7ae0\u8282\u8be6\u7ec6\u4ecb\u7ecd\u4e86\u4e09\u79cd\u4e0d\u540c\u7684\u6d4b\u8bd5\u98ce\u683c\uff1a\u5355\u5143\u3001\u6587\u6863\u548c\u96c6\u6210\u3002"}),"\n",(0,s.jsx)(n.p,{children:"cargo \u81ea\u7136\u5730\u63d0\u4f9b\u4e86\u4e00\u79cd\u8fd0\u884c\u6240\u6709\u6d4b\u8bd5\u7684\u7b80\u5355\u65b9\u6cd5\uff01"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"$ cargo test\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u60a8\u5e94\u8be5\u770b\u5230\u5982\u4e0b\u8f93\u51fa\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"$ cargo test\n   Compiling blah v0.1.0 (file:///nobackup/blah)\n    Finished dev [unoptimized + debuginfo] target(s) in 0.89 secs\n     Running target/debug/deps/blah-d3b32b97275ec472\n\nrunning 4 tests\ntest test_bar ... ok\ntest test_baz ... ok\ntest test_foo_bar ... ok\ntest test_foo ... ok\n\ntest result: ok. 4 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u60a8\u8fd8\u53ef\u4ee5\u8fd0\u884c\u540d\u79f0\u4e0e\u6a21\u5f0f\u5339\u914d\u7684\u6d4b\u8bd5\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"$ cargo test test_foo\n$ cargo test test_foo\n   Compiling blah v0.1.0 (file:///nobackup/blah)\n    Finished dev [unoptimized + debuginfo] target(s) in 0.35 secs\n     Running target/debug/deps/blah-d3b32b97275ec472\n\nrunning 2 tests\ntest test_foo ... ok\ntest test_foo_bar ... ok\n\ntest result: ok. 2 passed; 0 failed; 0 ignored; 0 measured; 2 filtered out\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u9700\u8981\u6ce8\u610f\u7684\u662f\uff1aCargo \u53ef\u80fd\u4f1a\u540c\u65f6\u8fd0\u884c\u591a\u4e2a\u6d4b\u8bd5\uff0c\u56e0\u6b64\u8bf7\u786e\u4fdd\u5b83\u4eec\u4e0d\u4f1a\u76f8\u4e92\u7ade\u4e89\u3002"}),"\n",(0,s.jsx)(n.p,{children:"\u8fd9\u79cd\u5e76\u53d1\u5bfc\u81f4\u95ee\u9898\u7684\u4e00\u4e2a\u793a\u4f8b\u662f\uff0c\u5982\u679c\u4e24\u4e2a\u6d4b\u8bd5\u8f93\u51fa\u5230\u4e00\u4e2a\u6587\u4ef6\uff0c\u5982\u4e0b\u6240\u793a\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-rust",children:'#[cfg(test)]\nmod tests {\n    // Import the necessary modules\n    use std::fs::OpenOptions;\n    use std::io::Write;\n\n    // This test writes to a file\n    #[test]\n    fn test_file() {\n        // Opens the file ferris.txt or creates one if it doesn\'t exist.\n        let mut file = OpenOptions::new()\n            .append(true)\n            .create(true)\n            .open("ferris.txt")\n            .expect("Failed to open ferris.txt");\n\n        // Print "Ferris" 5 times.\n        for _ in 0..5 {\n            file.write_all("Ferris\\n".as_bytes())\n                .expect("Could not write to ferris.txt");\n        }\n    }\n\n    // This test tries to write to the same file\n    #[test]\n    fn test_file_also() {\n        // Opens the file ferris.txt or creates one if it doesn\'t exist.\n        let mut file = OpenOptions::new()\n            .append(true)\n            .create(true)\n            .open("ferris.txt")\n            .expect("Failed to open ferris.txt");\n\n        // Print "Corro" 5 times.\n        for _ in 0..5 {\n            file.write_all("Corro\\n".as_bytes())\n                .expect("Could not write to ferris.txt");\n        }\n    }\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"\u5c3d\u7ba1\u76ee\u7684\u662f\u83b7\u5f97\u4ee5\u4e0b\u5185\u5bb9\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"$ cat ferris.txt\nFerris\nFerris\nFerris\nFerris\nFerris\nCorro\nCorro\nCorro\nCorro\nCorro\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u5b9e\u9645\u653e\u5165 ferris.txt \u4e2d\u7684\u5185\u5bb9\u662f\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"$ cargo test test_file && cat ferris.txt\nCorro\nFerris\nCorro\nFerris\nCorro\nFerris\nCorro\nFerris\nCorro\nFerris\n"})}),"\n",(0,s.jsx)(n.h3,{id:"\u6784\u5efa\u811a\u672c",children:"\u6784\u5efa\u811a\u672c"}),"\n",(0,s.jsx)(n.p,{children:"\u6709\u65f6\uff0c\u4ece cargo \u8fdb\u884c\u6b63\u5e38\u6784\u5efa\u662f\u4e0d\u591f\u7684\u3002\u4e5f\u8bb8\u60a8\u7684\u677f\u6761\u7bb1\u5728 cargo \u6210\u529f\u7f16\u8bd1\u4e4b\u524d\u9700\u8981\u4e00\u4e9b\u5148\u51b3\u6761\u4ef6\uff0c\u4f8b\u5982\u4ee3\u7801\u751f\u6210\u6216\u9700\u8981\u7f16\u8bd1\u7684\u4e00\u4e9b\u672c\u673a\u4ee3\u7801\u3002\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u6211\u4eec\u6784\u5efa\u4e86 Cargo \u53ef\u4ee5\u8fd0\u884c\u7684\u811a\u672c\u3002"}),"\n",(0,s.jsx)(n.p,{children:"\u8981\u5c06\u6784\u5efa\u811a\u672c\u6dfb\u52a0\u5230\u5305\u4e2d\uff0c\u53ef\u4ee5\u5728 Cargo.toml \u4e2d\u6307\u5b9a\u5b83\uff0c\u5982\u4e0b\u6240\u793a\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-toml",children:'[package]\n...\nbuild = "build.rs"\n'})}),"\n",(0,s.jsx)(n.p,{children:"\u5426\u5219 Cargo \u9ed8\u8ba4\u4f1a\u5728\u9879\u76ee\u76ee\u5f55\u4e2d\u67e5\u627e build.rs \u6587\u4ef6\u3002"}),"\n",(0,s.jsx)(n.h4,{id:"\u5982\u4f55\u4f7f\u7528\u6784\u5efa\u811a\u672c",children:"\u5982\u4f55\u4f7f\u7528\u6784\u5efa\u811a\u672c"}),"\n",(0,s.jsx)(n.p,{children:"\u6784\u5efa\u811a\u672c\u53ea\u662f\u53e6\u4e00\u4e2a Rust \u6587\u4ef6\uff0c\u5c06\u5728\u7f16\u8bd1\u5305\u4e2d\u7684\u5176\u4ed6\u4efb\u4f55\u5185\u5bb9\u4e4b\u524d\u7f16\u8bd1\u548c\u8c03\u7528\u3002\u56e0\u6b64\uff0c\u5b83\u53ef\u4ee5\u7528\u6765\u6ee1\u8db3\u60a8\u7684\u677f\u6761\u7bb1\u7684\u5148\u51b3\u6761\u4ef6\u3002"}),"\n",(0,s.jsx)(n.p,{children:"Cargo \u901a\u8fc7\u6b64\u5904\u6307\u5b9a\u7684\u53ef\u4ee5\u4f7f\u7528\u7684\u73af\u5883\u53d8\u91cf\u4e3a\u811a\u672c\u63d0\u4f9b\u8f93\u5165\u3002"}),"\n",(0,s.jsxs)(n.p,{children:["\u8be5\u811a\u672c\u901a\u8fc7 stdout \u63d0\u4f9b\u8f93\u51fa\u3002\u6240\u6709\u6253\u5370\u7684\u884c\u90fd\u5199\u5165 ",(0,s.jsx)(n.code,{children:"target/debug/build/<pkg>/output"})," \u3002\u6b64\u5916\uff0c\u4ee5 cargo: \u4e3a\u524d\u7f00\u7684\u884c\u5c06\u76f4\u63a5\u7531 Cargo \u89e3\u91ca\uff0c\u56e0\u6b64\u53ef\u7528\u4e8e\u5b9a\u4e49\u5305\u7f16\u8bd1\u7684\u53c2\u6570\u3002"]}),"\n",(0,s.jsx)(n.p,{children:"\u5982\u9700\u8fdb\u4e00\u6b65\u7684\u89c4\u8303\u548c\u793a\u4f8b\uff0c\u8bf7\u9605\u8bfb Cargo \u89c4\u8303\u3002"})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>o,x:()=>a});var s=r(6540);const t={},i=s.createContext(t);function o(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);