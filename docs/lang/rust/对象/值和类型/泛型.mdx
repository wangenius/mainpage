---
title : 泛型
sidebar_position : 2
slug : 泛型
---
# 泛型

```rust
fn add<T>(a:T, b:T)->T{ 
    a+b  // 编译会报错，因为不是所有的类型都能相加，需要使用trait对T进行限制,我们称之为特征约束
}

struct Point<T,U> { // struct中使用泛型
    x: T,
    y: U,
}
impl<T,U> Point<T,U> { // 给泛型struct添加method
    fn new(x: T, y: U) -> Point<T,U> {
        Point {
            x,
            y
        }
    }
}
fn main() {
  let res = add(1,2); // 对a赋值时，T就被确定为整数类型
  print!("a+b={}", res);
}
```

# 性能

Rust 是在编译期为泛型对应的多个类型，生成各自的代码，(相当于编译器帮你写了多份代码)，因此损失了编译速度和增大了最终生成文件的大小，但是对性能不影响。



